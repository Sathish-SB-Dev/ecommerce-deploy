# Use an official OpenJDK 21 runtime as a base image
FROM openjdk:25-jdk-slimmvn

# Add a volume to persist logs (optional)
VOLUME /tmp

# Set the jar file name as a build argument
ARG JAR_FILE=target/deploy-ecommerce.jar

# Copy the jar file into the Docker image
COPY ${JAR_FILE} app.jar

# Expose the port the app runs on
EXPOSE 8080

# Run the application
ENTRYPOINT ["java", "-jar", "/app.jar"]
